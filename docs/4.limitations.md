## í•œê³„ì 
### (ë¨¼ì € ë§í•˜ëŠ”) ê²°ë¡ 
- ios safari
    - webgl ê³¼ getUserDevice ë¥¼ ì´ìš©í•˜ë©´ ì›¹ì¹´ë©”ë¼ + realtime filter ë¥¼ ì¶©ë¶„íˆ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
    - video ë¡œ export í•˜ëŠ” ê²ƒì€ native api ë¡œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. websocket ì„œë²„ë¥¼ í†µí•´ í”„ë ˆì„ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì„œë²„ë¡œ ë³´ë‚´ê³  video/mp4 í¬ë§·ì˜ íŒŒì¼ì„ ì„œë²„ì—ì„œ ìƒì„±í•´ì•¼ í•œë‹¤.
- android
    - [ì•ˆë“œë¡œì´ë“œ í¬ë¡¬ 52 ë²„ì „](https://chromereleases.googleblog.com/2016/07/chrome-for-android-update.html) ì´ìƒ, [ì‚¼ì„± ë¸Œë¼ìš°ì € 6.0](https://www.sammobile.com/apk/samsung-internet-for-android/samsung-internet-browser-6-0-01-10/) ì´ìƒì˜ ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œëŠ” canvas 2d filter, webgl / webrtc getUserDevice, recording ë“± ëª¨ë“  API ë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### safari ì™€ recording
- 2017ë…„ë„ 6ì›”ì— ì—´ë¦° WWDC ì—ì„œ ios11 ì—ì„œ ë¶€í„° WebRTC ê¸°ìˆ ì´ íƒ‘ì¬ëœë‹¤ê³  ë°œí‘œëœ ì´ë˜ë¡œ `getUserDevice` ì™€ `RTCPeerConnection` API ì™¸ì—ëŠ” ëª¨ë‘ ì§€ì›í•˜ì§€ ì•Šê³  ìˆë‹¤.
- canvas ë¥¼ ë ˆì½”ë”© í• ë•Œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ì‚¬ìš©ë  `MediaRecorder` ì™€ `captureStream` API ì— ëŒ€í•´ì„œëŠ” ì•„ì§ ì§€ì› ê³„íšì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤.
    - (ì´ëŸ´ê±°ë©´ webkit ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œë„ Support í‘œì‹œëŠ” ë¹¼ë²„ë ¤ì•¼ í•˜ëŠ”ê±° ì•„ë‹Œê°€ ğŸ¤¬
- WebRTC ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆëŠ” webm í¬ë§·ì„ safari ì—ì„œëŠ” ì˜¤ë””ì˜¤ í˜•ì‹ ë°–ì— ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒë„ ê±¸ë¦¼ëŒì´ë‹¤.
- webRTC ê°œë°œìê°€ ì œê³µí•˜ëŠ” [RecordRTC](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC) ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œë„ safari 11 ì€ ìŒì„±ë ˆì½”ë”©ë§Œ ì§€ì›í•œë‹¤.
- ë°ëª¨ì—ì„œ ì‚¬ìš©í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ëŒ€ìƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•´ë´¤ì„ë•Œ ì•„ë˜ì™€ ê°™ì€ ì œì•½ì¡°ê±´ í•˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë”°.
    1) gif.js ë‚˜ ccapture.js ë¥¼ ì‚¬ìš©í•˜ì—¬ gif í¬ë§·ì˜ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
    2) ffmpegserver.js ì„œë²„ë¥¼ í†µí•´ mp4 ë¡œ ì¸ì½”ë”© í•˜ëŠ” ê²½ìš°
    3) canvas.toDataUrl ë¡œ ë‹¨ì¼ ìŠ¤í¬ë¦°ìƒ· ì´ë¯¸ì§€ë§Œ ì‚¬ìš©í•  ê²½ìš° 


### safari ì™€ color filter
<img width="500" alt="2018-12-03 7 24 35" src="https://media.oss.navercorp.com/user/237/files/213011ee-f731-11e8-84c4-5ae5b94635af">

- ìœ„ í‘œì—ì„œ ë³¼ ìˆ˜ ì‡ë“¯ì´ `CanvasRenderingContext2D.filter` API ëŠ” desktop / mobile ëª¨ë“  ë²„ì „ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ [ì›ë³¸](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/filter#Browser_compatibility)
- ì• í”Œ ê³µì‹ canvas ê°€ì´ë“œì—ì„œëŠ” image processing ì„ ìœ„í•´ì„œëŠ” pixel ë‹¨ìœ„ë¡œ ì¡°ì‘í•˜ëŠ” ê²ƒìœ¼ë¡œ [ê°€ì´ë“œ](https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/HTML-canvas-guide/PixelManipulation/PixelManipulation.html#//apple_ref/doc/uid/TP40010542-CH16-SW4) ë˜ê³  ìˆë‹¤. (2013 ë…„ë„ê°€ ê°€ì¥ ìµœì‹  ê°€ì´ë“œ..*) 
- [camanjs](http://camanjs.com) ì™€ ê°™ì€ canvas manipulation library ë¥¼ ì´ìš©í•˜ê²Œ ë˜ë©´ ëª¨ë“  í”½ì…€ì„ ì¡°ì‘í•˜ëŠ” ë¹„ìš©ì´ ë§¤ìš° í¬ê¸° ë•Œë¬¸ì— ì‹¤ì‹œê°„ìœ¼ë¡œ í”„ë ˆì„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ë™ì˜ìƒì—ëŠ” ì ì ˆí•˜ì§€ ì•Šë‹¤.
- **ë”°ë¼ì„œ webglê³¼ shader ë¥¼ ì´ìš©í•´ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¹ì€ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì¶”ì²œí•œë‹¤.**
- webglì€ version1 ì„ ê¸°ì¤€ìœ¼ë¡œ iOS8 ë¶€í„° ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

#### ì°¸ê³ ) ë°ëª¨ì—ì„œ ì‚¬ìš©í•œ glslCanvas ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¹„êµ
- glslCanvas : WebGLì„ ì‚¬ìš©í•´ì„œ GLSL ì‰ì´ë”ë¥¼ ë¡œë“œí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- glfxjs : WebGL ì´ë¯¸ì§€ íš¨ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- glslCanvas ëŠ” ì»¬ëŸ¬ í•„í„°ì— í•„ìš”í•œ ì‰ì´í„° ì½”ë“œë¥¼ ì™¸ë¶€ì—ì„œ ì…ë ¥ ë°›ê³ , glfxjs ëŠ” í•„í„°ì— í•„ìš”í•œ ì‰ì´ë” ì½”ë“œ (ex. [sepia.js](https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js)) ë¥¼ ë‚´ì¥í•˜ê³  ìˆë‹¤.
- glslCanvas ì—ì„œ ì œê³µí•˜ëŠ” setUniform í•¨ìˆ˜ì— ëŒ€í•œ ë¹„ìš©ì´ ë§¤ìš° í¬ê¸° ë•Œë¬¸ì— requestAnimationFrame ì„ í•¨ê»˜ ì‚¬ìš©í•˜ê²Œ ë˜ë©´
    - í¬ë¡¬ì—ì„œëŠ” `[Violation] 'requestAnimationFrame' handler took <N>ms` warning 
    - ì‚¬íŒŒë¦¬ì—ì„œëŠ” ì´ì „ í”„ë ˆì„ì´ ì™„ë£Œë˜ê¸° ì „ì— ë‹¤ìŒ í”„ë ˆì„ì´ ì§„í–‰ë˜ì–´ í™”ë©´ì´ ë©ˆì¶”ëŠ” í˜„ìƒ (ì´ì „ í”„ë ˆì„ì— ëŒ€í•œ í˜ì¸íŒ…ì´ ì·¨ì†Œë¨) ë˜ëŠ” ì‹¬í•˜ê²Œ ë¶€ìì—°ìŠ¤ëŸ¬ìš´ í™”ë©´ì´ ë‚˜íƒ€ë‚œë‹¤.
    - ì›ì¸? (ì•„ë§ˆë„..?) setUniform ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” canvas ì˜ toDataUrl API ë¥¼ ë§¤ë²ˆ í˜¸ì¶œí•´ì•¼ í•˜ê³  mousemove ì´ë²¤íŠ¸ê°€ ë°œìƒí• ë•Œë§ˆë‹¤ sandbox ë¥¼ resize í•˜ëŠ” requestAnimationFrame ì„ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ê³  ìˆë‹¤.
- glfxjs ëŠ” dataURL ì¡°ì‘ ì—†ì´ canvas ì— ì§ì ‘ webgl API ë¥¼ ì‚¬ìš©í•´ì„œ ë” ì„±ëŠ¥ì´ ì¢‹ì€..?ê²ƒì¼ê¹Œ..?í‘í‘ ì˜ ëª¨ë¥´ê² ë‹¤
- ê²°ë¡  : webgl ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ì˜ ê³¨ë¼ì„œ ì‚¬ìš©í•˜ë„ë¡ í•˜ì


#### ì°¸ê³ 
- https://bloggeek.me/webrtc-ios-support/
- https://webkit.org/blog/7726/announcing-webrtc-and-media-capture/
- https://webkit.org/blog/7627/safari-technology-preview-32/
- https://developer.mozilla.org/ko/docs/Web/API/WebGL_API/Tutorial/Using_shaders_to_apply_color_in_WebGL
- https://addpipe.com/blog/html5-video-recording-webrtc-mediarecorder-api/
- https://webrtchacks.com/safari-webrtc/