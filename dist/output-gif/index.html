<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="content-language" content="en-EN" />
    <link rel="stylesheet" href="../app.css">
</head>

<body>
    <main>
        <div id="loading">
            <p>CAMERA LOADING</p>
        </div>
        <div id="permission">
            <p>PLEASE ALLOW CAMERA ACCESS</p>
        </div>
        <div id="content">
            <video id="video" playsinline style="display:none"></video>
            <canvas id="output"></canvas>
            <img id="preview"></canvas>
            <div>
                    <p>record video</p>
                    <button class="record_start">recording start</button>
                    <button disabled class="record_stop">recording stop</button>
                    <p class="record_status"></p>
            </div>
            <div>
                <p>record snapshot</p>
                <button data-value="gifjs">gif(gif.js)</button>
                <button data-value="webm" class="ccapture">ccapture format: webm</button>
                <button data-value="gif" class="ccapture">ccapture format: gif</button>
                <button data-value="png" class="ccapture">ccapture format: png</button>
                <button data-value="png" class="ffmpegserver">ccapture format: ffmpegserver</button>
            </div>
        </div>
        <canvas style="display:none" id="icon"></canvas>
        <img id="picka" width="0" height="0" src="https://themadcreator.github.io/gifler/assets/gif/run.gif" />
    </main>
    <script type="text/javascript" src="./lib/gifler.js"></script>
    <script type="text/javascript" src="./lib/CCapture.all.min.js"></script>
    <script>
        function failServerAccess() {
            document.querySelector("#serverSocketScript").className = "load_fail";
        }
    </script>
    <script id="serverSocketScript" src="http://localhost:8080/ffmpegserver/ffmpegserver.js" onerror="failServerAccess()"></script>
    <script type="text/javascript" src="./index.js"></script>
</body>
</html>
